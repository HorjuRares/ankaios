apiVersion: v0.1
workloads:
  simple:
    runtime: podman-kube
    agent: agent_A
    restartPolicy: NEVER
    controlInterfaceAccess:
      allowRules:
      - type: StateRule
        operation: Read
        filterMask:
        - desiredState
      - type: StateRule
        operation: Write
        filterMask:
        - desiredState
    tags:
      - key: owner
        value: Ankaios team
    runtimeConfig: |
      targetPath: |
        "pod_A/container_A"
      manifest: |
        apiVersion: v1
        kind: Pod
        metadata:
          name: pod_A
        spec:
          restartPolicy: Never
          containers:
          - name: container_A
            image: ghcr.io/eclipse-ankaios/tests/alpine:latest
            command: ["sleep", "30"]
          - name: container_A_sidecar
            image: ghcr.io/eclipse-ankaios/tests/alpine:latest
            command: ["sleep", "30"]
        ---
        apiVersion: v1
        kind: Pod
        metadata:
          name: pod_B
        spec:
          containers:
          - name: container_B
            image: ghcr.io/eclipse-ankaios/tests/alpine:latest
            command: ["sleep", "30"]
